<template>
  <require from="components/loading"></require>

  <div class="card me-md-2 mb-2 mb-md-0">
    <div class="card-body d-flex flex-column h-100">
      <h4 class="card-title">Edit the parcel</h4>

      <form class="mt-3" id="edit-parcel-form" submit.delegate="submit()">
        <select class="form-select form-select-sm" id="bag" value.bind="bagNumber">
          <option value="" selected>Choose a bag...</option>
          <option repeat.for="bag of bags" model.bind="bag.number">
            ${bag.number}
          </option>
        </select>

        <div class="form-group">
          <label for="number">Parcel number</label>
          <input type="text" class="form-control" id="number" value.bind="number"
                 pattern="^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{2}$">
        </div>

        <div class="form-group">
          <label for="recipient">Recipient name</label>
          <input type="text" class="form-control" id="recipient" value.bind="recipient"
                 maxlength="100">
        </div>

        <div class="form-group">
          <label for="destination">Destination country</label>
          <input type="text" class="form-control" id="destination" value.bind="destination"
                 pattern="^[A-Z]{2}$" minlength="2" maxlength="2">
        </div>

        <div class="form-group">
          <label for="weight">Weight</label>
          <input type="number" class="form-control" id="weight" value.bind="weight" min="0"
                 step=".001">
        </div>

        <div class="form-group">
          <label for="price">Price</label>
          <input type="number" class="form-control" id="price" value.bind="price" min="0"
                 step=".01">
        </div>
      </form>

      <button type="submit" form="edit-parcel-form"
              class="card-link btn btn-outline-success align-self-end">
        Save
      </button>
    </div>
  </div>

  <loading if.bind="errorTitle" error.bind="errorTitle" error-title.bind="errorTitle"
           error-details.bind="errorDetails" not-found.bind="false">
  </loading>

</template>
